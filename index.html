<script>
    const API_KEY = "AIzaSyDFlvK6qzBAxM9D35-ehMu_duAYWjBXSVY";

    async function start2026Scan() {
        // 2026ë…„ì— ì‚¬ìš© ê°€ëŠ¥í•œ ìµœì‹  ëª¨ë¸ ë¦¬ìŠ¤íŠ¸ë¡œ ì „ë©´ êµì²´
        const modelNames = [
            'gemini-2.0-flash-exp', // í˜„ì¬ ê°€ì¥ ìœ ë ¥í•œ í›„ë³´
            'gemini-1.5-flash-002', // ì •ë°€ ë²„ì „
            'gemini-1.5-pro-002',
            'gemini-2.0-flash',     // ì •ì‹ ë²„ì „ ì¶œì‹œ ëŒ€ë¹„
            'gemini-1.5-flash'
        ];
        const apiVersions = ['v1beta', 'v1'];
        
        log("2026 ìµœì‹  ì—”ì§„ ìŠ¤ìº” ëª¨ë“œ ê°€ë™...");

        for (let ver of apiVersions) {
            for (let mName of modelNames) {
                log(`${ver} ê²½ë¡œë¡œ models/${mName} í˜¸ì¶œ ì‹œë„...`);
                
                // êµ¬ê¸€ ê¶Œì¥ ì •ì‹ ê²½ë¡œëŠ” í•­ìƒ models/ ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
                const url = `https://generativelanguage.googleapis.com/${ver}/models/${mName}:generateContent?key=${API_KEY}`;

                try {
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            contents: [{ parts: [{ text: "hi" }] }]
                        })
                    });

                    const data = await response.json();

                    if (response.ok) {
                        log(`âœ… [ì„±ê³µ] ì°¾ì•˜ìŠµë‹ˆë‹¤! ê²½ë¡œ: ${ver}/models/${mName}`, 'success');
                        document.getElementById('test-output').value = `MASTER PATH FOUND!\nVERSION: ${ver}\nMODEL: ${mName}`;
                        return; 
                    } else {
                        // ì—ëŸ¬ê°€ 'not found'ê°€ ì•„ë‹ˆë¼ 'API_KEY_INVALID' ë©´ í‚¤ ë¬¸ì œ,
                        // 'Location not supported' ë©´ ì§€ì—­ ë¬¸ì œì…ë‹ˆë‹¤.
                        log(`âŒ ì‹¤íŒ¨: ${data.error.message.substring(0, 50)}`, 'fail');
                    }
                } catch (e) {
                    log(`ğŸš« ë„¤íŠ¸ì›Œí¬ ì°¨ë‹¨: ${mName}`, 'fail');
                }
            }
        }
        log("âš ï¸ ëª¨ë“  ìµœì‹  ì¡°í•© ì‹¤íŒ¨. Google AI Studioì—ì„œ 'Edit API Key'ë¥¼ ëˆŒëŸ¬ ëª¨ë¸ ì ‘ê·¼ ê¶Œí•œì„ í™•ì¸í•˜ì„¸ìš”.", 'fail');
    }
</script>
